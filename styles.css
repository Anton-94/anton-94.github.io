:root{
    --bg:#f3f4f6; --card:#fff; --text:#111827; --muted:#6b7280;
    --border:#e5e7eb; --danger:#ef4444; --primary:#111827;
}

*{box-sizing:border-box}
body{
    margin:0;
    font-family:-apple-system,system-ui,Segoe UI,Roboto,Arial,sans-serif;
    background:var(--bg);
    color:var(--text);
    padding-bottom:72px;
}

.topbar{
    position:sticky; top:0; z-index:10;
    display:flex; align-items:center; justify-content:space-between;
    padding:12px 14px;
    background:rgba(255,255,255,.9);
    backdrop-filter: blur(10px);
    border-bottom:1px solid var(--border);
}
.topbar__title{font-weight:700}

.content{padding:12px 12px 0}

.btn{
    border:0; border-radius:12px;
    padding:10px 12px;
    background:var(--primary);
    color:#fff;
    font-size:14px;
}
.btn--primary{width:100%; margin-top:12px}
.btn--danger{background:var(--danger); width:100%}

.iconBtn{
    border:0; background:transparent; font-size:18px; padding:6px 8px;
}

.screen{display:none}
.screen--active{display:block}

.days{display:flex; flex-direction:column; gap:10px}

.dayCard{
    background:var(--card);
    border:1px solid var(--border);
    border-radius:16px;
    padding:10px;
    cursor:pointer;
    transition:background 0.2s;
}
.dayCard:hover{
    background:#f9fafb;
}
.dayHeader{display:flex; justify-content:space-between; align-items:center; margin-bottom:6px}
.dayTitle{font-weight:700}
.dayHint{font-size:12px; color:var(--muted)}

.mealRow{
    display:flex; align-items:center; justify-content:space-between;
    padding:10px;
    border:1px solid var(--border);
    border-radius:14px;
    margin-top:8px;
    background:#fff;
}
.mealName{font-size:14px}
.mealActions{display:flex; gap:10px; align-items:center}
.handle{opacity:.5; font-size:18px; user-select:none; cursor:grab}
.handle:active{cursor:grabbing}
.deleteBtn{border:0; background:transparent; color:var(--danger); font-size:16px}
.mealRow.dragging{opacity:0.5}
.dayCard.drag-over{border-color:var(--primary); background:#f9fafb}
.mealsContainer{min-height:20px}

.bottomDanger{margin:14px 0 0}

.tabs{
    position:fixed; left:0; right:0; bottom:0;
    display:flex; gap:10px;
    padding:10px 12px;
    background:rgba(255,255,255,.92);
    border-top:1px solid var(--border);
    backdrop-filter: blur(10px);
}
.tab{
    flex:1;
    border:1px solid var(--border);
    background:#fff;
    border-radius:14px;
    padding:10px 12px;
    font-size:14px;
}
.tab--active{border-color:#111827; font-weight:700}

.panel{
    background:var(--card);
    border:1px solid var(--border);
    border-radius:16px;
    padding:12px;
}

.row{display:flex; gap:10px; align-items:center}
.field{position:relative; flex:1}

.input, input{
    width:100%;
    padding:12px;
    border:1px solid var(--border);
    border-radius:12px;
    font-size:14px;
    background:#fff;
}

.select{
    width:100%;
    padding:12px;
    border:1px solid var(--border);
    border-radius:12px;
    background:#fff;
}

.label{display:block; margin:10px 0 6px; font-size:12px; color:var(--muted)}

.list{list-style:none; padding:0; margin:12px 0 0}
.list--compact{margin-top:8px}
.li{
    display:flex; justify-content:space-between; align-items:center;
    padding:10px;
    border:1px solid var(--border);
    border-radius:14px;
    margin-top:8px;
    background:#fff;
}
.list--compact .li{
    background:transparent;
    border:none;
    border-bottom:1px solid var(--border);
    border-radius:0;
    padding:8px 4px;
    margin-top:0;
}
.list--compact .li:last-child{
    border-bottom:none;
}
#ingredientsList .li{
    background:transparent;
    border:none;
    border-bottom:1px solid var(--border);
    border-radius:0;
    padding:10px 0;
    margin-top:0;
}
#ingredientsList .li:last-child{
    border-bottom:none;
}
.liStrike{text-decoration:line-through; color:var(--muted)}
.li--bought{opacity:0.7}

.quantityControls{
    display:flex;
    align-items:center;
    gap:6px;
    margin-right:8px;
}
.quantityBtn{
    width:28px;
    height:28px;
    border:1px solid var(--border);
    border-radius:6px;
    background:#fff;
    font-size:18px;
    line-height:1;
    padding:0;
    display:flex;
    align-items:center;
    justify-content:center;
    cursor:pointer;
    user-select:none;
}
.quantityBtn:hover{
    background:var(--bg);
}
.quantityBtn:active{
    background:var(--border);
}
.quantityDisplay{
    min-width:24px;
    text-align:center;
    font-weight:600;
    font-size:14px;
}
.ingredientName{
    flex:1;
    cursor:pointer;
}

.smallBtn{border:0; background:transparent; color:var(--danger); font-size:16px}

.suggest{
    position:absolute; left:0; right:0; top:46px;
    background:#fff;
    border:1px solid var(--border);
    border-radius:12px;
    overflow:hidden;
    display:none;
    z-index:50;
}
.suggest__item{
    padding:10px 12px;
    border-top:1px solid var(--border);
    cursor:pointer;
    background:#f3f4f6;
}
.suggest__item:first-child{border-top:0}
.suggest__item:hover{background:#e5e7eb}

/* Modal */
.modal{position:fixed; inset:0; display:none; z-index:100}
.modal--open{display:block}
.modal__backdrop{position:absolute; inset:0; background:rgba(0,0,0,.35)}
.modal__card{
    position:absolute; left:12px; right:12px; top:10%;
    background:#fff;
    border-radius:18px;
    border:1px solid var(--border);
    overflow:hidden;
}
.modal__header{
    display:flex; justify-content:space-between; align-items:center;
    padding:12px 12px;
    border-bottom:1px solid var(--border);
}
.modal__title{font-weight:800}
.modal__body{padding:12px}
